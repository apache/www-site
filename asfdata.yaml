
# data sources to slurp and sequence
#   index.ezmd
#   foundation/index.ezmd
#   foundation/board/index.ezmd
#   licenses/exports/index.ezmd
ci:
  # load, transform, and create data sequences from committee info 
  url: https://whimsy.apache.org/public/committee-info.json
  board:
    # used on /foundation/ and /foundation/board/
    description: 'Board of Directors sequence'
    # select ci['board']['roster'] for the sequence
    path: board.roster
  officers:
    description: 'Foundation Officers sequence'
    # select ci['officers'] for the sequence
    path: officers
    # convert ci['officers']['roster']
    asfid: roster
  committees:
    description: 'Foundation Committees sequence'
    # ci['committees']
    path: committees
    # remove all report and roster dictionaries from committees
    trim: report,roster
    # convert ci['committees']['chair']
    asfid: chair
  ci:
    # used on /foundation/
    description: 'Dictionary of officers and committees'
    # save a merged dictionary version of these sequences.
    dictionary: officers,committees
  projects:
    description: 'Current Projects'
    # ci['committees']
    path: committees
    # select only where 'pmc' is true.
    where: pmc
    # sort by project name
    alpha: display_name
  pmc_count_rounded:
    path: pmc_count
    truncate: 10
  featured_projs:
    # used on /
    description: 'Featured Projects'
    # base on projects sequence
    sequence: projects
    # take a random sample of 3
    random: 12
    # logo path - use apache powered by if missing
    logo: /logos/res/{}/default.png,/foundation/press/kit/poweredBy/Apache_PoweredBy.svg
  pl:
    # used on /
    description: 'Project List Columns'
    # base on projects sequence
    sequence: projects
    # split into 6 column sequence adding letters of the alphabet and putting httpd first
    split: 6

# used on index.ezmd
pods:
  # load, transform, and create data sequences from podling info
  url: https://whimsy.apache.org/public/public_podlings.json
  podlings:
    description: 'Current Podlings'
    # create a sequence from the dictionary
    path: podling
    where: status eq current
  featured_pods:
    description: 'Featured Podlings'
    # based on the podlings sequence
    sequence: podlings
    # take a random sample of 6
    random: 6
    # logo path - use incubator if missing. Strip "Apache" and "(incubator)" from name.
    logo: /logos/res/{}/default.png,/logos/res/incubator/default.png

# used on licenses/exports/index.ezmd
eccn:
  # load, transform, and create a four tiered structure of sequence objects
  # projects, products, versions, and sources
  file: data/eccn/eccnmatrix.yaml

# The following is a work-round, as EZT does not currently
# support a check to see if a variable is defined
# Note: currently disabled. Change the following to 1 to enable
twitter_enable: 0
# # used on index.ezmd
# twitter:
#   # load, transform, and create a sequence of tweets
#   handle: 'TheASF'
#   count: 1

# used on index.ezmd
foundation:
  # load, transform, and create a sequence of foundation blogs
  blog: https://news.apache.org/feed/atom
  count: 3

# used on index.ezmd
newsletter:
  # load, transform, and create a sequence of foundation blogs
  blog: https://news.apache.org/foundation/entry/category/plus-one-newsletter/feed/atom
  count: 3

# used on index.ezmd
podcast:
  # load, transform, and create a sequence of foundation blogs
  blog: https://plusone.apache.org/feed/atom
  count: 3


# used for index.ezmd and foundation/how-it-works/index.md
pg:
  url: https://whimsy.apache.org/public/public_ldap_groups.json
  asf_committers:
    path: roster_counts.committers
  # rounded down, so can be used as nnn+
  asf_committers_rounded:
    path: roster_counts.committers
    truncate: 100
  asf_ldap_member: # This is not exactly the same as the number of active+emeritus members
    path: roster_counts.member
  # rounded down, so can be used as nnn+
  asf_ldap_member_rounded:
    path: roster_counts.member
    truncate: 10

# used for index.ezmd and foundation/how-it-works/index.md
mi:
  url: https://whimsy.apache.org/public/member-info.json
  asf_active_members_rounded:
    path: member_count
    truncate: 10
  asf_total_members_rounded: # active + emeritus
    path: total_member_count
    truncate: 10

# used for index.ezmd

# Not sure how this are derived
software_releases_rounded: 1300

# how does this relate to PMC count? (pmc_count_rounded)
open_source_projects_rounded: 290

# Can also define values as follows:
# anumber: 100
# astring: 'hundred'
# and reference them as {{anumber}} and {{astring}} even in .md files
# [This substitution is performed by the asfgenid plugin, assuming its metadata option is true]
